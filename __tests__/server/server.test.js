const expectedDataForItem100 = {
  'customer': [
    {
      'image': 'https://images.unsplash.com/photo-1566847438217-76e82d383f84?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=54&fit=max&ixid=eyJhcHBfaWQiOjE0MzcyOX0',
      'title': 'BestFriends Dog Bone',
      'brand': 'BestFriends',
      'reviewAverage': '3.5',
      'numberOfReviews': 7,
      'price': 9.99,
      'currency': '$',
    },
    {
      'image': 'https://images.unsplash.com/photo-1570824104629-1817c91f7d1d?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=54&fit=max&ixid=eyJhcHBfaWQiOjE0MzcyOX0',
      'title': 'CatToys Springy Bird Toy',
      'brand': 'CatToys',
      'reviewAverage': '3.6',
      'numberOfReviews': 13,
      'price': 11.49,
      'currency': '$',
    },
    {
      'image': 'https://images.unsplash.com/photo-1570824103960-1a04c7a170ec?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=54&fit=max&ixid=eyJhcHBfaWQiOjE0MzcyOX0',
      'title': 'Bird Watcher Bird Cage Mirror, 4\' L X 2.5\' W',
      'brand': 'Bird Watcher',
      'reviewAverage': '3.6',
      'numberOfReviews': 17,
      'price': 8.99,
      'currency': '$',
    },
    {
      'image': 'https://images.unsplash.com/photo-1529954382468-c3b5e8371e10?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=54&fit=max&ixid=eyJhcHBfaWQiOjE0MzcyOX0',
      'title': 'BestFriends Plush Fox with Squeaker',
      'brand': 'BestFriends',
      'reviewAverage': '3.6',
      'numberOfReviews': 16,
      'price': 2.45,
      'currency': '$',
    },
    {
      'image': 'https://images.unsplash.com/photo-1537815749002-de6a533c64db?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=54&fit=max&ixid=eyJhcHBfaWQiOjE0MzcyOX0',
      'title': 'IpsumLorem Plush Bunny with Squeaker',
      'brand': 'IpsumLorum',
      'reviewAverage': '3.8',
      'numberOfReviews': 16,
      'price': 10.99,
      'currency': '$',
    },
  ],
  'treat': [
    {
      'image': 'https://images.unsplash.com/photo-1508713920041-747e80e2690d?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=54&fit=max&ixid=eyJhcHBfaWQiOjE0MzcyOX0',
      'title': 'Intelligent Cotton Car',
      'brand': 'Hackett, Wisozk and Brown',
      'reviewAverage': '2.7',
      'numberOfReviews': 4,
      'price': 70.79,
      'currency': '$',
    },
    {
      'image': 'https://images.unsplash.com/photo-1491817374074-04306eedfeee?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=54&fit=max&ixid=eyJhcHBfaWQiOjE0MzcyOX0',
      'title': 'Awesome Soft Sausages',
      'brand': 'Schoen - Fisher',
      'reviewAverage': '3.5',
      'numberOfReviews': 7,
      'price': 87.14,
      'currency': '$',
    },
    {
      'image': 'https://images.unsplash.com/photo-1563485497821-c24e90e7c26c?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=54&fit=max&ixid=eyJhcHBfaWQiOjE0MzcyOX0',
      'title': 'Ergonomic Plastic Hat',
      'brand': 'Bechtelar, Schaefer and Casper',
      'reviewAverage': '4.4',
      'numberOfReviews': 10,
      'price': 61.69,
      'currency': '$',
    },
    {
      'image': 'https://images.unsplash.com/photo-1561488337-43f10c515a13?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=54&fit=max&ixid=eyJhcHBfaWQiOjE0MzcyOX0',
      'title': 'Handcrafted Wooden Table',
      'brand': 'Tremblay LLC',
      'reviewAverage': '4.2',
      'numberOfReviews': 5,
      'price': 86.05,
      'currency': '$',
    },
    {
      'image': 'https://images.unsplash.com/photo-1509205477838-a534e43a849f?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=54&fit=max&ixid=eyJhcHBfaWQiOjE0MzcyOX0',
      'title': 'Practical Wooden Soap',
      'brand': 'Bayer Inc',
      'reviewAverage': '3.8',
      'numberOfReviews': 10,
      'price': 63.42,
      'currency': '$',
    },
  ],
  'pet': [
    {
      'image': 'https://images.unsplash.com/photo-1506551109886-6101f48c1ab9?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=54&fit=max&ixid=eyJhcHBfaWQiOjE0MzcyOX0',
      'title': 'Refined Rubber Chicken',
      'brand': 'Nader, Rowe and Watsica',
      'reviewAverage': '4.4',
      'numberOfReviews': 7,
      'price': 74.39,
      'currency': '$',
    },
    {
      'image': 'https://images.unsplash.com/photo-1549483369-4f6dc8a58a03?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=54&fit=max&ixid=eyJhcHBfaWQiOjE0MzcyOX0',
      'title': 'Awesome Wooden Shirt',
      'brand': 'Ebert, Beahan and Powlowski',
      'reviewAverage': '3.2',
      'numberOfReviews': 8,
      'price': 87.57,
      'currency': '$',
    },
    {
      'image': 'https://images.unsplash.com/photo-1509205477838-a534e43a849f?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=54&fit=max&ixid=eyJhcHBfaWQiOjE0MzcyOX0',
      'title': 'Unbranded Soft Towels',
      'brand': 'Witting - Hegmann',
      'reviewAverage': '3.5',
      'numberOfReviews': 16,
      'price': 71.09,
      'currency': '$',
    },
    {
      'image': 'https://images.unsplash.com/photo-1574109123857-802a4e463083?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=54&fit=max&ixid=eyJhcHBfaWQiOjE0MzcyOX0',
      'title': 'Handmade Steel Soap',
      'brand': 'Kuhic Inc',
      'reviewAverage': '4.0',
      'numberOfReviews': 8,
      'price': 71.59,
      'currency': '$',
    },
    {
      'image': 'https://images.unsplash.com/photo-1574699790838-ffcf04ee0d4a?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=54&fit=max&ixid=eyJhcHBfaWQiOjE0MzcyOX0',
      'title': 'Ergonomic Plastic Bike',
      'brand': 'Breitenberg - Johnson',
      'reviewAverage': '3.6',
      'numberOfReviews': 15,
      'price': 97.59,
      'currency': '$',
    },
  ],
};

describe('For the server endpoint', () => {
  describe('"/productRecommendations/:itemId"', () => {
    test('returns a 404 when the itemId is below 100', () => {
      return axios.get('http://127.0.0.1:3004/productRecommendations/99')
        .catch((err) => {
          const { status } = err.response;

          expect(status).toEqual(404);
        });
    });

    test('returns a 404 when the itemId is above 199', () => {
      return axios.get('http://127.0.0.1:3004/productRecommendations/200')
        .catch((err) => {
          const { status } = err.response;

          expect(status).toEqual(404);
        });
    });

    test('returns the expected data when itemId is valid', () => {
      return axios.get('http://127.0.0.1:3004/productRecommendations/100')
        .then((response) => {
          const { data } = response;

          for (const key in data) {
            const receivedData = data[key];
            const expectedData = expectedDataForItem100[key];

            for (let i = 0; i < expectedData.length; i++) {
              const receivedRecommendedProduct = receivedData[i];
              const expectedRecommendedProduct = expectedData[i];

              for (const key in expectedRecommendedProduct) {
                expect(receivedRecommendedProduct[key]).toEqual(expectedRecommendedProduct[key]);
              }
            }
          }
        });
    });
  });
});
